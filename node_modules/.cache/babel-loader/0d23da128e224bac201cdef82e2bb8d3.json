{"ast":null,"code":"import _objectSpread from\"/Users/ashtonbennett/Desktop/fullstackopen/phonebook1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ashtonbennett/Desktop/fullstackopen/phonebook1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import contactService from'./services/contacts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Filter=function Filter(_ref){var filter=_ref.filter,filterChange=_ref.filterChange;return/*#__PURE__*/_jsxs(\"p\",{children:[\" filter shown with\",/*#__PURE__*/_jsx(\"input\",{value:filter,onChange:filterChange})]});};var PersonForm=function PersonForm(_ref2){var addName=_ref2.addName,newName=_ref2.newName,newNumber=_ref2.newNumber,handleNameChange=_ref2.handleNameChange,handleNumberChange=_ref2.handleNumberChange;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:addName,children:[/*#__PURE__*/_jsxs(\"div\",{children:[\" name:  \",/*#__PURE__*/_jsx(\"input\",{value:newName,onChange:handleNameChange}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\" number:  \",/*#__PURE__*/_jsx(\"input\",{value:newNumber,onChange:handleNumberChange}),\" \"]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"add\"})})]});};var Contacts=function Contacts(_ref3){var person=_ref3.person,filter=_ref3.filter,removeContact=_ref3.removeContact;var contactToShow=false?person:person.filter(function(person){return person.name.toLowerCase().includes(filter.toLowerCase());});return/*#__PURE__*/_jsx(\"ul\",{children:contactToShow.map(function(contact){return/*#__PURE__*/_jsxs(\"p\",{children:[\" \",contact.name,\" \",contact.number,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeContact(contact.id,contact.name,person);},children:\"delete\"})]},contact.name);})});};var Notification=function Notification(_ref4){var message=_ref4.message,style=_ref4.style;if(message===null){return null;}return/*#__PURE__*/_jsx(\"div\",{style:style,children:message});};function App(){var starter={fontSize:\"22px\",color:\"green\",textAlign:\"center\",background:\"lightGrey\",borderStyle:\"solid\",borderColor:\"green\",borderRadius:5};var errorRed={fontSize:\"22px\",color:\"red\",textAlign:\"center\",background:\"lightGrey\",borderStyle:\"solid\",borderColor:\"red\",borderRadius:5};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),person=_useState2[0],setPersons=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),newNumber=_useState6[0],setNewNumber=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),filter=_useState8[0],setFilter=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var _useState11=useState(starter),_useState12=_slicedToArray(_useState11,2),style=_useState12[0],setStyle=_useState12[1];var hook=function hook(){contactService.getAll().then(function(initialContacts){setPersons(initialContacts);});};useEffect(hook,[]);var addName=function addName(event){event.preventDefault();if(person.some(function(element){return element.name.toLowerCase()===newName.toLowerCase();})){if(window.confirm(\"\".concat(newName,\" is already added to phonebook, replace the old number with the new one?\"))){var contactToUpdate=person.filter(function(contact){return contact.name.toLowerCase()===newName.toLowerCase();})[0];var updatedContact=_objectSpread(_objectSpread({},contactToUpdate),{},{number:newNumber});console.log(contactToUpdate,updatedContact,person,newName);return contactService.update(contactToUpdate.id,updatedContact).then(function(updated){setPersons(person.map(function(contact){return contact.id!==contactToUpdate.id?contact:updatedContact;}));setStyle(starter);setMessage(\"\".concat(contactToUpdate.name,\"'s number was updated.\"));setTimeout(function(){setMessage(null);},5000);setNewName('');setNewNumber('');}).catch(function(error){setStyle(errorRed);setMessage(\"the contact '\".concat(contactToUpdate.name,\"' has already been removed from server.\"));setTimeout(function(){setMessage(null);},5000);setNewName('');setNewNumber('');});}else return;}var nameObject={name:newName,number:newNumber,key:newName};contactService.create(nameObject).then(function(returnedContact){setPersons(person.concat(returnedContact));setStyle(starter);setMessage(\"\".concat(newName,\"'s number was added.\"));setTimeout(function(){setMessage(null);},5000);setNewName('');setNewNumber('');});};var removeContact=function removeContact(id,name,person){if(window.confirm(\"Delete \".concat(name,\" from phonebook?\"))){return contactService.deleteContact(id).then(function(contact){setPersons(person.filter(function(contact){return contact.id!==id;}));});}};var handleNameChange=function handleNameChange(event){setNewName(event.target.value);};var handleNumberChange=function handleNumberChange(event){setNewNumber(event.target.value);};var filterChange=function filterChange(event){setFilter(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Phonebook\"}),/*#__PURE__*/_jsx(Notification,{message:message,style:style}),/*#__PURE__*/_jsx(Filter,{filter:filter,filterChange:filterChange}),/*#__PURE__*/_jsx(PersonForm,{addName:addName,newName:newName,newNumber:newNumber,handleNameChange:handleNameChange,handleNumberChange:handleNumberChange}),/*#__PURE__*/_jsx(\"h3\",{children:\"Numbers\"}),/*#__PURE__*/_jsx(Contacts,{filter:filter,person:person,name:person.name,number:person.number,removeContact:removeContact})]});}export default App;","map":{"version":3,"names":["useEffect","useState","contactService","Filter","filter","filterChange","PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","Contacts","person","removeContact","contactToShow","name","toLowerCase","includes","map","contact","number","id","Notification","message","style","App","starter","fontSize","color","textAlign","background","borderStyle","borderColor","borderRadius","errorRed","setPersons","setNewName","setNewNumber","setFilter","setMessage","setStyle","hook","getAll","then","initialContacts","event","preventDefault","some","element","window","confirm","contactToUpdate","updatedContact","console","log","update","updated","setTimeout","catch","error","nameObject","key","create","returnedContact","concat","deleteContact","target","value"],"sources":["/Users/ashtonbennett/Desktop/fullstackopen/phonebook1/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport contactService from './services/contacts'\n\nconst Filter = ({filter,filterChange})=> {\n  return(\n  <p> filter shown with\n    <input value = {filter} onChange ={filterChange}>\n    </input> \n  </p>\n)}\n\nconst PersonForm = ({addName,newName,newNumber,handleNameChange,handleNumberChange}) => {\n  return(\n\n  <form onSubmit = {addName}>\n    <div> name:  <input value={newName} onChange = {handleNameChange}/> </div>\n    <div> number:  <input value={newNumber} onChange = {handleNumberChange}/> </div>\n    <div>\n      <button type =\"submit\">add</button>\n    </div>\n  </form>\n  )\n}\n\nconst Contacts = ({person,filter,removeContact}) => {\n  const contactToShow = false\n  ? person\n  : person.filter(person => (person.name.toLowerCase()).includes(filter.toLowerCase()))\n  return(\n    <ul>\n    {contactToShow.map(contact => \n     <p key = {contact.name}> {contact.name} {contact.number}  \n       <button onClick={()=>removeContact(contact.id,contact.name, person)}>delete</button>\n     </p>\n     )}\n  </ul>  \n  )\n}\n\nconst Notification = ({message,style}) =>{\n  if(message === null){\n    return null\n  }\n  return(\n    <div style={style}>\n      {message}\n    </div>\n  )\n}\nfunction App() {\n\n  const starter = {\n    fontSize: \"22px\",\n    color: \"green\",\n    textAlign: \"center\",\n    background:\"lightGrey\",\n    borderStyle: \"solid\",\n    borderColor: \"green\",\n    borderRadius: 5,\n  }\n\n  const errorRed = {\n    fontSize: \"22px\",\n    color: \"red\",\n    textAlign: \"center\",\n    background:\"lightGrey\",\n    borderStyle: \"solid\",\n    borderColor: \"red\",\n    borderRadius: 5,\n  }\n    \n  const [person, setPersons] = useState([])\n  const [newName, setNewName] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n  const[filter, setFilter] = useState(\"\")\n  const[message,setMessage] = useState(null)\n  const [style,setStyle] = useState(starter)\n\n  const hook = () => {\n    contactService\n    .getAll()\n    .then(initialContacts => {\n       setPersons(initialContacts)\n    })\n }\n useEffect(hook,[])\n\n const addName = (event) =>{\n  event.preventDefault()\n\n  if(person.some(element => element.name.toLowerCase() === newName.toLowerCase())){\n\n     if(window.confirm(`${newName} is already added to phonebook, replace the old number with the new one?`)){\n      const contactToUpdate = person.filter(contact=> contact.name.toLowerCase() === newName.toLowerCase())[0]\n         const updatedContact = {...contactToUpdate, number: newNumber}\n         \n         console.log(contactToUpdate,updatedContact, person, newName  )\n      \n         return(\n\n        contactService\n        .update(contactToUpdate.id, updatedContact)\n        .then(updated => {\n          setPersons(person.map(contact => contact.id !== contactToUpdate.id ? contact : updatedContact))\n          setStyle(starter)  \n          setMessage(\n            `${contactToUpdate.name}'s number was updated.`\n          )\n\n          setTimeout(()=> {\n            setMessage(null)\n          },5000)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setStyle(errorRed) \n          setMessage(\n            `the contact '${contactToUpdate.name}' has already been removed from server.`\n          )\n          setTimeout(()=> {\n            setMessage(null)\n          },5000)\n          setNewName('')\n          setNewNumber('')\n        })\n      )\n    }\n    else return;\n  }\n\n  const nameObject = {\n    name: newName,\n    number:newNumber,\n    key: newName\n  }\n\n  contactService\n  .create(nameObject)\n  .then(returnedContact =>{\n    setPersons(person.concat(returnedContact))\n    setStyle(starter)\n    setMessage(\n      `${newName}'s number was added.`\n    )\n    setTimeout(()=> {\n      setMessage(null)\n    },5000)\n    setNewName('')\n    setNewNumber('')\n  })\n}\n\n  const removeContact = (id, name, person) => {\n    if(window.confirm(`Delete ${name} from phonebook?`)){\n     \n      return (contactService\n    .deleteContact(id)\n    .then(contact => {\n      setPersons(person.filter(contact => contact.id !== id))\n       \n    })\n      )\n  }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const filterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} style ={style}/>\n      \n      <Filter filter={filter} filterChange={filterChange}/> \n      \n      <PersonForm addName={addName} newName = {newName} newNumber ={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n\n      <h3>Numbers</h3>\n\n      <Contacts filter={filter} person={person} name={person.name} number={person.number} removeContact ={removeContact}/>\n      \n    </div>\n  );\n}\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}